{
  super(context);
  LinearLayout bubble=new LinearLayout(context);
  GradientDrawable drawable=new GradientDrawable();
  drawable.setColor(0xFF313231);
  drawable.setCornerRadius(getDIP(context,4));
  bubble.setBackgroundDrawable(drawable);
  bubble.setId(1);
  int padding=getDIP(context,17);
  bubble.setPadding(padding,padding,padding,padding);
  LayoutParams bubbleLayout=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  addView(bubble,bubbleLayout);
  Nub nub=new Nub(context);
  LayoutParams nubLayout=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  nubLayout.addRule(RelativeLayout.BELOW,bubble.getId());
  nubLayout.addRule(RelativeLayout.CENTER_IN_PARENT);
  addView(nub,nubLayout);
  LinearLayout labels=new LinearLayout(context);
  labels.setOrientation(LinearLayout.VERTICAL);
  LayoutParams labelsLayout=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  bubble.addView(labels,labelsLayout);
  int maxWidth=getDIP(context,230);
  title=new TextView(context);
  title.setTextColor(0xFFFFFFFF);
  title.setTextSize(TypedValue.COMPLEX_UNIT_SP,21);
  title.setMaxWidth(maxWidth);
  LinearLayout.LayoutParams titleLayout=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  labels.addView(title,titleLayout);
  subtitle=new TextView(context);
  subtitle.setTextColor(0xFF88afca);
  subtitle.setTypeface(Typeface.SANS_SERIF);
  subtitle.setTextSize(TypedValue.COMPLEX_UNIT_SP,14);
  subtitle.setMaxWidth(maxWidth);
  LinearLayout.LayoutParams subtitleLayout=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  labels.addView(subtitle,subtitleLayout);
  RelativeLayout iconColumn=new RelativeLayout(context);
  LayoutParams iconColumnLayout=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.MATCH_PARENT);
  bubble.addView(iconColumn,iconColumnLayout);
  ImageView icon=new ImageView(context);
  icon.setId(2);
  icon.setImageResource(R.drawable.callout_info_icon);
  icon.setScaleType(ImageView.ScaleType.MATRIX);
  LayoutParams iconLayout=new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);
  iconLayout.addRule(RelativeLayout.CENTER_VERTICAL);
  iconLayout.leftMargin=getDIP(context,10);
  iconColumn.addView(icon,iconLayout);
}
