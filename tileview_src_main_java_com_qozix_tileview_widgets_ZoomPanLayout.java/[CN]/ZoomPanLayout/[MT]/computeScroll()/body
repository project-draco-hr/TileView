{
  if (mScroller.computeScrollOffset()) {
    int startX=getScrollX();
    int startY=getScrollY();
    int endX=constrainX(mScroller.getCurrX());
    int endY=constrainY(mScroller.getCurrY());
    if (startX != endX || startY != endY) {
      scrollTo(endX,endY);
      if (mIsFlinging) {
        broadcastFlingUpdate();
      }
    }
    if (mScroller.isFinished()) {
      if (mIsFlinging) {
        mIsFlinging=false;
        broadcastFlingEnd();
      }
    }
 else {
      ViewCompat.postInvalidateOnAnimation(this);
    }
  }
}
